{"name":"Dota2stats","tagline":"Java Library that allows access to all Dota2 Stats provided by Valves WebAPI","body":"# Dota2Stats Java API Wrapper & Dota2Stats Command Line Tool\r\n\r\n## About\r\n\r\nThis repository is offering a simple Java Wrapper to access most of the interesing stats provided by Valve's Web API. In addition to the wrapper itself you will also find an easy to use [**small command line tool**](#working-with-the-command-line-tool) that has been built on top of the Dota2Stats Java Wrapper.\r\n\r\nRight now the API is capable to do the following things:\r\n\r\n* **Search a player by name to get his account (steam)id** \r\n\t\r\n* **Get the most recent public match history**\r\n\r\n* **Get the match history based on a filter that allowes to limit your search by an accound id, a date, ...**\r\n\t\r\n* **Get all the data for specific match by its id**\r\n\r\n* **Get aggregated values like AVERAGE KD, KDA RATIO, GPM, XPM, ... for a given amount of matches or by date.**\r\n\t* An example: \r\n    <pre>\r\n    ---- KDA: 13.087734627831715\r\n\t---- KD: 1.0310679611650486\r\n\t---- Kills: 2124.0\r\n\t---- Average Kills: 7.08\r\n\t---- Deaths: 2060.0\r\n\t---- Average Deaths: 6.866666666666666\r\n\t---- Assists: 3617.0\r\n\t---- Average Assists: 12.056666666666667\r\n\t---- Last Hits: 25323.0\r\n\t---- Average Last Hits: 84.41\r\n\t---- Denies: 1538.0\r\n\t---- Average Denies: 5.126666666666667\r\n\t---- Average GPM: 325.0133333333333\r\n\t---- Average XPM: 414.47333333333336\r\n\t</pre>\r\n\r\n*Bare in mind that this API has been hacked together within few hours so a few attributes (like items or units) of the objects you receive won't have a value! I will fill those attributes with values with every commit!!*\r\n\r\n## Prerequisites\r\n\r\n### Understand Valve's Web API\r\n\r\nBefore you start using this Java Wrapper you should first take a look a the great description from the [THINGS YOU SHOULD KNOW BEFORE STARTINGDEV](http://dev.dota2.com/showthread.php?t=58317) thread form the official developer forum powered by Valve. There you get a first feeling of which data you can accept and which parameters are available to limit the results of your calls.\r\n\r\n### Obtain an API Key\r\n\r\nAs with every public API you need a key to consume it. Visit http://steamcommunity.com/dev/apikey and fill out the form. It does not matter what URL you are providing, but a good practice would be to take something unique related to yourself. \r\n\r\n## Use The API\r\n\r\n### Initialize \r\n\r\nIt is quite simple to get started with the Dota2Stats Library. You have two possibilites:\r\n\r\n```java\r\n// Initialize to work with a proxy\r\nDota2Stats stats = new Dota2StatsImpl(\"YOUR_API_KEY\", \"YOUR_PROXY_URL\", [YOURPROXYPORT]);\t\t\r\n// Initialize without a proxy\r\nDota2Stats stats = new Dota2StatsImpl(\"YOUR_API_KEY\");\r\n```\r\n\r\nIf you are wondering why you have access to the implementation of the interface then be warned that a factory will come. :)\r\n**But that's it all. Now you have access to all the functions! Nothing more to do!**\r\n\r\n### Get the account id for a player name\r\n\r\n```java\r\n\r\ntry {\r\n\tList<PlayerSearchResult> results = stats.searchByPlayerName(\"john doe\");\r\n    \r\n    // Look at the results!\r\n\tfor(PlayerSearchResult item : results)\r\n\t\tSystem.out.println(item);\t\r\n        \r\n} catch (Dota2StatsAccessException e) {\r\n\t\t// Do something if an error occured\t\t\t\r\n}\r\n\r\n```\r\n\r\n### Get the 25 most recent matches\r\n\r\n```java\r\ntry {\r\n\r\n\tMatchHistory history = stats.getMostRecentMatchHistory();\r\n\tList<MatchOverview> overviews = history.getMatchOverviews();\r\n\t\r\n    // print all match overviews found\r\n\tfor (MatchOverview match : overviews)\r\n\t\tSystem.out.println(match);\r\n\r\n} catch (Dota2StatsAccessException e1) {\r\n\t// Do something if an error occurs\r\n}\r\n\r\n```\r\n\r\n### Working with the filter (eg. get all matches for a specific account id)\r\n\r\nWith a *MatchHistoryFilter* it is possible to create some search parameters that are then used to access the WebAPI.\r\nThe match history filter offers the following functions to parameterize your request:\r\n\r\n* forSkill(Skill)\r\n* forGameMode(GameMode)\r\n* forPlayerName(String)\r\n* forAccountId(long)\r\n* forDateMinimum(long)\r\n* forDateMaximum(long)\r\n* forMinimumPlayersNumber(int)\r\n* forStartingMatchId(long)\r\n* forMaximumNumberOfResults(int)\r\n\r\nIt is simple if you see the API call. Let's assume we want to have all matches for a player that has the accountid 1234 and only All Pick Games:\r\n\r\n```java\r\ntry {\r\n\tMatchHistory history = stats.getMatchHistory(new MatchHistoryFilter().forAccountId(1234).forGameMode(GameMode.All_Pick));\r\n\tList<MatchOverview> overviews = history.getMatchOverviews();\r\n\r\n\tfor (MatchOverview match : overviews)\r\n\t\tSystem.out.println(match);\r\n\r\n} catch (Dota2StatsAccessException e1) {\r\n\t// Do something if an error occurs\r\n}\r\n\r\n```\r\n\r\n### Get detailed information for a match and extract all player stats there\r\n\r\nFrom the *MatchOverview* object you can obtain its specific match id. With this it is possible to get all the stats of this match.\r\n\r\n\r\n```java\r\ntry {\r\n\t\t\r\n\t// Get the details for a given match id\r\n\tMatchDetail detail = stats.getMatchDetails(12345);\r\n\t\t\t\r\n\t// extract all player stats from this game\r\n\tList<MatchDetailPlayer> playersStatsOfTheMatch = detail.getPlayers();\r\n\t\t\t\r\n\t// Show 'em\r\n\tfor(MatchDetailPlayer player : playersStatsOfTheMatch) \r\n\t\tSystem.out.println(player);\t\t\t\r\n\t\t\t\r\n} catch (Dota2StatsAccessException e1) {\r\n\t// Do something if an error occurs\r\n}\r\n```\r\n\r\n### Magic: Getting aggregated values for an account id to see average KD/KDA ratio, GPM/XPM per match and overall kills/deaths stats. \r\n\r\n```java\r\n// using a date filter\r\nPlayerStats playerStatsWithFilter = stats.getStats(123456,\r\n\tnew MatchHistoryFilter().forDateMaximum(1349827200)\r\n\t\t\t\t\t\t\t.forDateMinimum(1349395200));\r\n\r\n// just a number of recent matches\r\nPlayerStats playerStatsByRecentNumberOfMatches = stats.getStats(123456, 300);\r\n\r\n// print it!!\r\nSystem.out.println(playerStatsWithFilter);\r\nSystem.out.println(playerStatsByRecentNumberOfMatches);\r\n```\r\n\r\n**Keep in mind that this is a quite extensive network abuse and I really advice you not to use this function too often as Valve could just ban your API Key!!! Use with caution!!**\r\n\r\n## Working with the command line tool\r\n\r\n### Where is it?\r\n\r\nThe command line tool can be found in the export-cli-jar folder of this repository. \r\n\r\n### How to start it?\r\n\r\nFirst of all you need an up to date Java version. Start your terminal (Unix) or cmd (Windows) and check if Java is available via \r\n```bash\r\njava -version\r\n```\r\nIf everything works fine you will see the current version of your installed JRE. If you can't see it, but you have installed Java on your system, you just have to add the JRE/bin folder to your %PATH% environment.\r\nWhen everything is done, change your current working directory to that one, where you saved the dota2stats.jar file and simple start the tool with\r\n\r\n```bash\r\njava -jar dota2stats.jar\r\n```\r\n\r\nThe shell will greet you telling all the further steps you need to know to get your stats from the tool:\r\n\r\n<pre>\r\nusage: dota2stats <options>\r\n______  _______________________    _______\r\n(  __  \\(  ___  \\__   __(  ___  )  / ___   )\r\n| (  \\  | (   ) |  ) (  | (   ) |  \\/   )  |\r\n| |   ) | |   | |  | |  | (___) |      /   )\r\n| |   | | |   | |  | |  |  ___  |    _/   /\r\n| |   ) | |   | |  | |  | (   ) |   /   _/\r\n| (__/  | (___) |  | |  | )   ( |  (   (__/\\\r\n(__________________________________________/\r\n(  ____ \\__   __(  ___  \\__   __(  ____ \\\r\n| (    \\/  ) (  | (   ) |  ) (  | (    \\/\r\n| (_____   | |  | (___) |  | |  | (_____\r\n(_____  )  | |  |  ___  |  | |  (_____  )\r\n.     ) |  | |  | (   ) |  | |        ) |\r\n/\\____) |  | |  | )   ( |  | |  /\\____) |\r\n\\_______)  )_(  |/     \\|  )_(  \\_______)\r\n\r\n -dsince,--datesince <timestamp>   The date to aggregate all matches when\r\n                                   combined with -s. FROM THE GIVEN DATE to your\r\n                                   very first match. Combine with -dto to create\r\n                                   a specific timeframe (-dto < -dsince)\r\n                                   \r\n -dto,--dateto <timestamp>         The date to aggregate all matches when\r\n                                   combined with -s. From NOW till the given\r\n                                   date. Combine with -dsince to create a\r\n                                   specific timeframe (-dto < -dsince)\r\n                                   \r\n -f,--findplayer <name>            Returns a list of players with their\r\n                                   corresponding steam id (32Bit). You can\r\n                                   combine the search with the stats function\r\n                                   (-stats, --getstats). Be aware that the first\r\n                                   result will be taken to get the stats for if\r\n                                   no additional account id has been given.\r\n                                   \r\n -k,--key <apikey>                 Mandatory!! The API key to access valves\r\n                                   stats service. Visit\r\n                                   http://steamcommunity.com/dev/apikey and fill\r\n                                   out the form to get one.\r\n                                   \r\n -n,--number <numberofmatches>     The number of recent matches to be\r\n                                   aggregated. (Ignored when -dto and/or -dsince\r\n                                   are given)\r\n                                   \r\n -pPort,--proxyPort <port>         The port to your proxy server\r\n -pUrl,--proxyUrl <url>            The url to your proxy server\r\n -s,--stats <accountid>            Aggregates stats and calculates averages (eg\r\n                                   KDA/KD/GPM/...) for the player with the given\r\n                                   account id. Please use -n to specify the\r\n                                   number of matches to aggregate over. You can\r\n                                   also limit the number of matches by date with\r\n                                   -dsince and -dto.\r\nUsage and examples\r\n====================================\r\n1. Find out the steamid of the player with the name 'Hans' accountid\r\n# dota2stats -f Hans\r\n===\r\n2. Get all the stats of the recent 100 matches for a given accountid (123456)\r\nwith API key\r\n# dota2stats -s 123456 -n 100 -k 1212121212121212\r\n===\r\n3. Get all the stats from the very first match to 2012/12/13 (as unix timestamp)\r\n\r\nwith API key\r\n# dota2stats -s 123456 -dsince 1355356800 -k 1212121212121212\r\n===\r\n4. Get all the stats from NOW to 2012/12/13 (as unix timestamp) with API key\r\n# dota2stats -s 123456 -dto 1355356800 -k 1212121212121212\r\n\r\n</pre>\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}